# 第四章 表达式

## 表达式基础

- **重载运算符**：当运算符作用在类类型的运算对象时，用户可以自行定义其含义，但**运算对象的个数、优先级和结婚率无法改变**
- **左值和右值**：
    - 右值：储存在寄存器或立即数，用的是对象的**值**（内容）
    - 左值：储存在内存，用的是对象的**身份**（内存中的地址）
- 对于没有指定执行顺序的运算符，如果表达式指向并修改了**同一个对象**，将会引发错误产生未定义的行为  
```cpp
int i = 0;
cout << i <<< i++ <<endl;           //编译器不知道先输出i还是i++，表达式的结果是未知的
```

## 算术运算符

- 运算对象和结果都是**右值**  
- 取模`%`:`m % n`符号与`m`相同
  - `m % n` `m % (-n)`等价于`m % n`
  - `(-m) % n` `(-m) % (-n)`等价于`-(m % n)`  
- 溢出：当计算的结果超出该类型所能表示的范围时就会产生溢出
  
 ## 逻辑和关系运算符
 - 返回布尔类型，运算对象和结果都是**右值**    
 - 短路求值：  
   - `&&`:当且仅当**左侧运算对象为真**时，才对右侧运算对象求值  
   - `||`:当且仅当**左侧运算对象为假**时，才对右侧运算对象求值
  
