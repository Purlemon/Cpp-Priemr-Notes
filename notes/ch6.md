# 第六章 函数

## 函数基础

- **函数定义**：包括返回类型、函数名字和0个或者多个**形参**（parameter）组成的列表和函数体
- **调用运算符**：调用运算符的形式是一对圆括号 `()`，作用于一个表达式，该表达式是函数或者指向函数的指针
- 圆括号内是用逗号隔开的**实参**（argument）列表
- 函数调用过程：
  - 1.主调函数（calling function）的执行被中断
  - 2.被调函数（called function）开始执行
- **形参和实参**：
  - 形参和实参的**个数**和**类型**必须匹配上
  - 形参一定会被初始化  
- **返回类型**： `void`表示函数不返回任何值。函数的返回类型**不能是数组类型或者函数类型**，但可以是指向数组或者函数的指针

### 局部对象

- **生命周期**：对象的生命周期是程序执行过程中该对象存在的一段时间
- **局部变量**（local variable）：形参和函数体内部定义的变量统称为局部变量。它对函数而言是局部的，对函数外部而言是**隐藏**的
- **自动对象**：只存在于块执行期间的对象。当块的执行结束后会被销毁，它的值就变成**未定义**的了
- **局部静态对象**： 
  - `static`类型的局部变量，生命周期贯穿函数调用前后
  - 没有显式初始化则执行**值初始化**（内置类型初始化为0）
### 函数声明

- **函数声明**：
  - 无需函数体，用一个分号替代
  - 形参可以没有名字只有类型名称
- **在头文件中进行函数声明**：建议变量在头文件中声明；在源文件中定义

## 参数传递

- 形参初始化的机理和变量初始化一样。
- **引用传递**（passed by reference）：又称传引用调用（called by reference），指**形参是引用类型**，引用形参是它对应的实参的别名
- **值传递**（passed by value）：又称传值调用（called by value），指实参的值是通过**拷贝**传递给形参。
### 传值参数

- 当初始化一个非引用类型的变量时，初始值被拷贝给变量
- 函数对形参做的所有操作都不会影响实参
- **指针形参**：效果等价于引用形参
### 传引用参数

- 通过使用引用形参，允许函数改变一个或多个实参的值
- 引用形参直接关联到绑定的对象，而非对象的副本
- 使用引用形参可以用于**返回额外的信息**
- 经常用引用形参来避免不必要的复制
- 如果无需改变引用形参的值，最好将其声明为**常量引用**

### const形参和实参

- 形参的顶层`const`被忽略。`void func(const int i);`调用时既可以传入`const int`也可以传入`int`
 ```cpp
 void fcn(const int i);
 void fdn(int i);               //错误：不能重载，可以传入相同类型的参数
 ```
- 形参使用常量引用可以**传递字面值或表达式**作为参数，但引用不行
